@model assignment8.Models.Item

@{
    ViewBag.Title = "Details";
}

<h2>Details</h2>
<body onload="refresh();">
    <div>
        <h4>Item</h4>
        <hr />
        <dl class="dl-horizontal">
            <dt>
                @Html.DisplayNameFor(model => model.Seller)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Seller1.Name)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Name)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Name)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Description)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Description)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Bids)
            </dt>
            <dd>
                <div class="bids">
                    <table id="tableBids">
                        <tr>
                            <th>Bidder Name</th>
                            <th>Price</th>
                        </tr>
                        @for(int i = Model.Bids.Count() - 1; i > 0; i--)
                        {
                        <tr>
                            <td>
                                @Html.DisplayFor(model => model.Bids.ElementAt(i).Buyer1.Name)
                            </td>
                            <td id="price">
                                @Html.DisplayFor(model => model.Bids.ElementAt(i).Price)
                            </td>
                        </tr>
                        }
                    </table>
                </div>
            </dd>
        </dl>
    </div>
    <p>
        @Html.ActionLink("Edit", "Edit", new { id = Model.ItemId }) |
        @Html.ActionLink("Back to List", "Index")
    </p>
</body>

@section scriptSection{
    <script src="~/Scripts/jquery-3.3.1.min.js"></script>
    <script src="~/Scripts/update.js"></script>
}
